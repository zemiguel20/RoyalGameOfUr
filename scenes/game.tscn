[gd_scene load_steps=19 format=3 uid="uid://bkjl7wlfjhp01"]

[ext_resource type="Script" path="res://scripts/level/level.gd" id="1_80kkg"]
[ext_resource type="PackedScene" uid="uid://cgkfm7n305bgj" path="res://scenes/environment/environment.tscn" id="1_kqpqp"]
[ext_resource type="PackedScene" uid="uid://b1w6pqli52hw5" path="res://scenes/game/board_game.tscn" id="3_y7fxu"]
[ext_resource type="PackedScene" uid="uid://bcjpac1cs0xcy" path="res://scenes/npcs/opponent_guard.tscn" id="4_0uuko"]
[ext_resource type="PackedScene" uid="uid://c8o1oiumwk2ow" path="res://scenes/game_camera.tscn" id="5_jk6gv"]
[ext_resource type="Script" path="res://scripts/audio/ambient_audio_controller.gd" id="6_6kt50"]
[ext_resource type="PackedScene" uid="uid://drllx28djyai7" path="res://scenes/npcs/npc_system.tscn" id="6_7r6bu"]
[ext_resource type="AudioStream" uid="uid://bn3jyvfxklhdo" path="res://audio/sfx_mastered/ambience-kitchen-sounds.mp3" id="7_do1ug"]
[ext_resource type="Script" path="res://scripts/audio/offset_audio_player.gd" id="8_lfpgi"]
[ext_resource type="AudioStream" uid="uid://cypkb6b2st6b1" path="res://audio/sfx_mastered/ambience-birds-and-crickets.mp3" id="9_0a4og"]
[ext_resource type="PackedScene" uid="uid://dwnjc775ngbs4" path="res://scenes/ui/end_screen.tscn" id="11_5dvu1"]
[ext_resource type="PackedScene" uid="uid://bksmfg8gvpyso" path="res://scenes/ui/controls_hud.tscn" id="12_4wasf"]
[ext_resource type="PackedScene" uid="uid://purvwsmsb7e8" path="res://scenes/ui/pause_menu.tscn" id="13_fd73s"]

[sub_resource type="Curve3D" id="Curve3D_gel6c"]
_data = {
"points": PackedVector3Array(1.17921, -0.0768166, 0.433843, -1.17921, 0.0768166, -0.433843, 0.936, 0, 0.496, 0, 0, 0, 0, 0, 0, -3.594, 0, -0.916, 0, 0, 0, 0, 0, 0, -12.414, 0, -1.165, 0, 0, 0, 0, 0, 0, -13.0017, 0, 0.385633),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4
up_vector_enabled = false

[sub_resource type="Curve3D" id="Curve3D_utdk4"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -4.264, 0, 3.987, -0.865, 0, 0, 0.865, 0, 0, -1.628, 0, 4.14, -0.0239821, 0, 0.897715, 0.0239821, 0, -0.897715, -0.254, 0, 2.214, 0, 0, 0, 0, 0, 0, -0.215, 0, -0.554),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4
up_vector_enabled = false

[sub_resource type="Curve3D" id="Curve3D_w0vht"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.203, 0, -0.637, 0, 0, 0, 0, 0, 0, -0.363, 0, 0.665, -2.02511, 0, -0.125696, 2.02511, 0, 0.125696, 1.74568, 0, 2.8336, 0, 0, 0, 0, 0, 0, 6.09242, 0, 4.81994, -0.633246, 0, 0.228384, 0.633246, 0, -0.228384, 8.849, 0, 5.584),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5
up_vector_enabled = false

[sub_resource type="Curve3D" id="Curve3D_ag4c4"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.74496, -0.00807405, -0.924744, -0.024, 0, -0.898, 0.024, 0, 0.898, -0.639858, 0.00594401, 1.70974, 0.865, 0, 0, -0.865, 0, 0, -1.86563, 0, 3.12895, -0.865, 0, 0, 0, 0, 0, -4.51176, -0.000873566, 3.133),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4
up_vector_enabled = false

[sub_resource type="Curve3D" id="Curve3D_ma8g4"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -4.51176, -0.000873566, 3.133, -0.865, 0, 0, 0.865, 0, 0, -1.86563, 0, 3.12895, -0.0239821, 0, 0.897715, 0.0239821, 0, -0.897715, -0.703071, 0.0052011, 1.71327, 0, 0, 0, 0, 0, 0, -0.624147, -0.0158007, -0.897799),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4
up_vector_enabled = false

[node name="Level" type="Node"]
script = ExtResource("1_80kkg")

[node name="BoardGame" parent="." instance=ExtResource("3_y7fxu")]
transform = Transform3D(0.517071, 0, -0.855942, 0, 1, 0, 0.855942, 0, 0.517071, 4.46946, -0.207456, 6.34682)

[node name="Environment" parent="." instance=ExtResource("1_kqpqp")]

[node name="Opponent_Guard_Animated" parent="." instance=ExtResource("4_0uuko")]
transform = Transform3D(0.848048, 0, 0.52992, 0, 1, 0, -0.52992, 0, 0.848048, 4.17257, -0.684179, 5.80273)

[node name="GameCamera" parent="." instance=ExtResource("5_jk6gv")]
transform = Transform3D(0.848048, 0, 0.529919, 0, 1, 0, -0.529919, 0, 0.848048, 4.677, 0.167, 6.671)

[node name="CameraPOVS" type="Node3D" parent="."]
editor_description = "Collection of disabled cameras that act as preset POVs for the main camera"

[node name="StartPOV" type="Camera3D" parent="CameraPOVS"]
process_mode = 4
transform = Transform3D(0.848048, 0.181651, 0.497812, 1.11759e-08, 0.939412, -0.34279, -0.529919, 0.290703, 0.796667, 4.75128, 0.356789, 6.78987)
fov = 65.0

[node name="SingleplayerIntroPOV" type="Camera3D" parent="CameraPOVS"]
process_mode = 4
transform = Transform3D(0.848048, 0, 0.529919, 0, 1, 0, -0.529919, 0, 0.848048, 4.677, 0.167, 6.671)
fov = 65.0

[node name="SingleplayerGamePOV" type="Camera3D" parent="CameraPOVS"]
process_mode = 4
transform = Transform3D(0.848048, -0.306316, 0.432417, 0, 0.816006, 0.578043, -0.529919, -0.490208, 0.692013, 4.68321, 0.20134, 6.68615)
fov = 65.0

[node name="HotseatPOV" type="Camera3D" parent="CameraPOVS"]
process_mode = 4
transform = Transform3D(-0.513508, -0.825552, 0.234038, 1.49012e-08, 0.272744, 0.962087, -0.858085, 0.494039, -0.140056, 4.55151, 0.083335, 6.29023)
fov = 65.0

[node name="NPCSystem" parent="." node_paths=PackedStringArray("path_follow_guard_1", "path_follow_guard_2", "path_follow_guard_3", "path_follow_kitchen_1", "path_follow_kitchen_2") instance=ExtResource("6_7r6bu")]
path_follow_guard_1 = NodePath("NPC_Paths/GuardPaths/ToStorage/ToStorage_PathFollow3D")
path_follow_guard_2 = NodePath("NPC_Paths/GuardPaths/Storage_To_Kitchen/StorageToKitchen_PathFollow3D")
path_follow_guard_3 = NodePath("NPC_Paths/GuardPaths/Kitchen_To_Start/KitchenToStart_PathFollow3D")
path_follow_kitchen_1 = NodePath("NPC_Paths/KitchenPaths/Kitchen_To_Storage/Kitchen_To_Storage_PathFollow3D")
path_follow_kitchen_2 = NodePath("NPC_Paths/KitchenPaths/Storage_To_Kitchen2/StorageToKitchen2_PathFollow3D")

[node name="NPC_Paths" type="Node3D" parent="NPCSystem"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.662207, 0)

[node name="GuardPaths" type="Node3D" parent="NPCSystem/NPC_Paths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.1165, 0, 5.22195)

[node name="ToStorage" type="Path3D" parent="NPCSystem/NPC_Paths/GuardPaths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0613985, 0, 0)
curve = SubResource("Curve3D_gel6c")

[node name="ToStorage_PathFollow3D" type="PathFollow3D" parent="NPCSystem/NPC_Paths/GuardPaths/ToStorage"]
transform = Transform3D(-0.34528, 0.057269, -0.936741, -3.72526e-09, 0.998133, 0.0610216, 0.93849, 0.0210698, -0.344636, 0.936, 0, 0.496)
use_model_front = true
loop = false

[node name="Storage_To_Kitchen" type="Path3D" parent="NPCSystem/NPC_Paths/GuardPaths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.1165, 0, -5.22195)
curve = SubResource("Curve3D_utdk4")

[node name="StorageToKitchen_PathFollow3D" type="PathFollow3D" parent="NPCSystem/NPC_Paths/GuardPaths/Storage_To_Kitchen"]
transform = Transform3D(0.0579448, 0, 0.998319, 0, 1, 0, -0.998319, 0, 0.0579448, -4.264, 0, 3.987)
use_model_front = true
loop = false

[node name="Kitchen_To_Start" type="Path3D" parent="NPCSystem/NPC_Paths/GuardPaths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.1165, 0, -5.22195)
curve = SubResource("Curve3D_w0vht")

[node name="KitchenToStart_PathFollow3D" type="PathFollow3D" parent="NPCSystem/NPC_Paths/GuardPaths/Kitchen_To_Start"]
transform = Transform3D(0.992532, 0, -0.12197, 0, 1, 0, 0.12197, 0, 0.992532, -0.203, 0, -0.637)
use_model_front = true
loop = false

[node name="KitchenPaths" type="Node3D" parent="NPCSystem/NPC_Paths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.1165, 0, 5.22195)

[node name="Kitchen_To_Storage" type="Path3D" parent="NPCSystem/NPC_Paths/KitchenPaths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.1165, 0, -5.22195)
visible = false
curve = SubResource("Curve3D_ag4c4")

[node name="Kitchen_To_Storage_PathFollow3D" type="PathFollow3D" parent="NPCSystem/NPC_Paths/KitchenPaths/Kitchen_To_Storage"]
transform = Transform3D(0.999195, -0.000211939, 0.039862, -7.27588e-12, 0.999986, 0.00531663, -0.0398625, -0.00531246, 0.999181, -0.74496, -0.00807405, -0.924744)
use_model_front = true
loop = false

[node name="Storage_To_Kitchen2" type="Path3D" parent="NPCSystem/NPC_Paths/KitchenPaths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.1165, 0, -5.22195)
curve = SubResource("Curve3D_ma8g4")

[node name="StorageToKitchen2_PathFollow3D" type="PathFollow3D" parent="NPCSystem/NPC_Paths/KitchenPaths/Storage_To_Kitchen2"]
transform = Transform3D(-0.00153058, -0.000330129, 0.999986, -1.45517e-11, 1, 0.000330125, -0.999986, 5.05282e-07, -0.00153058, -4.51176, -0.000873566, 3.133)
use_model_front = true
loop = false

[node name="AmbientAudio" type="Node3D" parent="."]
script = ExtResource("6_6kt50")

[node name="KitchenSounds" type="AudioStreamPlayer3D" parent="AmbientAudio"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.25614, -1.01644, 6.51755)
stream = ExtResource("7_do1ug")
autoplay = true
bus = &"Ambient"
script = ExtResource("8_lfpgi")

[node name="BirdsAndCrickets1" type="AudioStreamPlayer3D" parent="AmbientAudio"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.95781, 2.98356, -2.50387)
stream = ExtResource("9_0a4og")
autoplay = true
bus = &"Ambient"
script = ExtResource("8_lfpgi")

[node name="BirdsAndCrickets2" type="AudioStreamPlayer3D" parent="AmbientAudio"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.48208, 5.04287, 12.2205)
stream = ExtResource("9_0a4og")
autoplay = true
bus = &"Ambient"
script = ExtResource("8_lfpgi")
playback_offset = 34

[node name="BirdsAndCrickets3" type="AudioStreamPlayer3D" parent="AmbientAudio"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.17094, 5.04287, 8.10376)
stream = ExtResource("9_0a4og")
autoplay = true
bus = &"Ambient"
script = ExtResource("8_lfpgi")
playback_offset = 68

[node name="EndScreen" parent="." instance=ExtResource("11_5dvu1")]

[node name="ControlsHUD" parent="." instance=ExtResource("12_4wasf")]

[node name="PauseMenu" parent="." instance=ExtResource("13_fd73s")]
