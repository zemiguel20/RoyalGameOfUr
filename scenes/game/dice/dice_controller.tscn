[gd_scene load_steps=20 format=3 uid="uid://b7wqojt2nphja"]

[ext_resource type="Script" path="res://scripts/game/dice/dice.gd" id="1_ka5gv"]
[ext_resource type="PackedScene" uid="uid://bfyhvb7v43pnc" path="res://scenes/game/dice/d4_die.tscn" id="2_66rme"]
[ext_resource type="AudioStream" uid="uid://dv5nxtgrtwn6q" path="res://audio/test_dice_roll.mp3" id="3_hlajg"]
[ext_resource type="PackedScene" uid="uid://cm3qnh7nq0itd" path="res://scenes/game/dice/dice_throw_spot.tscn" id="3_p3m62"]
[ext_resource type="AudioStream" uid="uid://bdsbgnjpv7ic2" path="res://audio/dice_shaking_loop.mp3" id="3_wfoj5"]
[ext_resource type="PackedScene" uid="uid://ckh07dylodtpk" path="res://scenes/game/dice/dice_spawn_spot.tscn" id="4_e34ex"]
[ext_resource type="PhysicsMaterial" uid="uid://e1gked2srf8t" path="res://physics_materials/pm_dice_border.tres" id="5_hdthg"]
[ext_resource type="Script" path="res://scripts/game/dice/dice_label.gd" id="6_wittj"]

[sub_resource type="BoxShape3D" id="BoxShape3D_rs5kh"]
size = Vector3(10, 12, 1)

[sub_resource type="BoxMesh" id="BoxMesh_hlaw2"]
size = Vector3(10, 12, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_tsocn"]
size = Vector3(10, 12, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_feblq"]
size = Vector3(6.08105, 12, 1)

[sub_resource type="BoxMesh" id="BoxMesh_xk8l6"]
size = Vector3(6, 12, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_41ig0"]
size = Vector3(5.97949, 12, 1)

[sub_resource type="BoxMesh" id="BoxMesh_871mg"]
size = Vector3(6, 12, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_8xt6p"]
size = Vector3(6, 3.83289, 4.77588)

[sub_resource type="Curve" id="Curve_wrwgg"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.25, 1), 0.0, 0.0, 0, 0, Vector2(0.75, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="BoxShape3D" id="BoxShape3D_iof8i"]
size = Vector3(10.6155, 1, 8.46777)

[sub_resource type="BoxShape3D" id="BoxShape3D_3iugv"]
size = Vector3(6, 3.83289, 3.69043)

[node name="Dice" type="Node3D"]
script = ExtResource("1_ka5gv")
_die_scene = ExtResource("2_66rme")
_roll_shaking_enabled = true

[node name="DiceArea_P1" type="Node3D" parent="."]
transform = Transform3D(0.026, 0, 1.54972e-09, 0, 0.026, 0, -1.54972e-09, 0, 0.026, 0, 0.1, 0.21102)

[node name="ThrowingSpots_P1" type="Node3D" parent="DiceArea_P1"]
transform = Transform3D(-5.96046e-08, 0, 1, 0, 1, 0, -1, 0, -5.96046e-08, 2.87025, 0.505961, -2.24774)
visible = false

[node name="ThrowSpot1" parent="DiceArea_P1/ThrowingSpots_P1" instance=ExtResource("3_p3m62")]
transform = Transform3D(-1, 0, -2.68221e-07, 0, 1, 0, 2.68221e-07, 0, -1, 0, -0.10147, 0)
throwing_velocity_multiplier = 1.35

[node name="ThrowSpot2" parent="DiceArea_P1/ThrowingSpots_P1" instance=ExtResource("3_p3m62")]
transform = Transform3D(-1, 0, -2.68221e-07, 0, 1, 0, 2.68221e-07, 0, -1, 0.999969, -0.10147, -1.52588e-05)

[node name="ThrowSpot3" parent="DiceArea_P1/ThrowingSpots_P1" instance=ExtResource("3_p3m62")]
transform = Transform3D(-1, 0, -2.68221e-07, 0, 1, 0, 2.68221e-07, 0, -1, -1.00003, -0.10147, 0)

[node name="ThrowSpot4" parent="DiceArea_P1/ThrowingSpots_P1" instance=ExtResource("3_p3m62")]
transform = Transform3D(-1, 0, -2.68221e-07, 0, 1, 0, 2.68221e-07, 0, -1, -1, 1.75774, 1.52588e-05)
throwing_velocity_multiplier = 0.5

[node name="ThrowSpot5" parent="DiceArea_P1/ThrowingSpots_P1" instance=ExtResource("3_p3m62")]
transform = Transform3D(-1, 0, -2.98023e-07, 0, 1, 0, 2.98023e-07, 0, -1, 1.00003, 1.75775, -7.62939e-06)
throwing_velocity_multiplier = 0.5

[node name="SpawnSpots_P1" type="Node3D" parent="DiceArea_P1"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, -7.60684e-06, -3, -2.29399)
visible = false

[node name="SpawnSpot" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.809253, 0, 0.587461, 0, 1, 0, -0.587461, 0, 0.809253, -1.0186, -0.194113, -0.587585)

[node name="SpawnSpot2" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.320183, 0, -0.947356, 0, 1, 0, 0.947356, 0, 0.320183, -1.27618, 0, 1.30646)

[node name="SpawnSpot3" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.19581, 0, 1.30646)

[node name="SpawnSpot4" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.456772, 0, 0.889584, 0, 1, 0, -0.889584, 0, 0.456772, 1.19581, 0, -1.24014)

[node name="SpawnSpot9" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.456772, 0, 0.889584, 0, 1, 0, -0.889584, 0, 0.456772, 2.48492, 0, -0.266357)

[node name="SpawnSpot5" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.527801, 0, 0.849368, 0, 1, 0, -0.849368, 0, 0.527801, 2.98527, 0, 1.02374)

[node name="SpawnSpot6" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.235719, 0, -0.971822, 0, 1, 0, 0.971822, 0, 0.235719, -3.53115, 0, -0.863342)

[node name="SpawnSpot7" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.235719, 0, -0.971822, 0, 1, 0, 0.971822, 0, 0.235719, -3.53585, -7.15256e-07, 1.50531)

[node name="SpawnSpot8" parent="DiceArea_P1/SpawnSpots_P1" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.235719, 0, -0.971822, 0, 1, 0, 0.971822, 0, 0.235719, 4.19296, -7.15256e-07, -1.14572)

[node name="DiceBorders_P1" type="Node3D" parent="DiceArea_P1"]
transform = Transform3D(1, 0, 1.19209e-07, 0, 1, 0, -1.19209e-07, 0, 1, -7.62939e-06, 0, -0.539154)
visible = false

[node name="Wall" type="StaticBody3D" parent="DiceArea_P1/DiceBorders_P1"]
transform = Transform3D(1, 0, 8.9407e-08, 0, 1, 0, -8.9407e-08, 0, 1, 7.62939e-06, 2.979, 1.13354)
input_ray_pickable = false
physics_material_override = ExtResource("5_hdthg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P1/DiceBorders_P1/Wall"]
shape = SubResource("BoxShape3D_rs5kh")

[node name="Debug_MeshInstance3D" type="MeshInstance3D" parent="DiceArea_P1/DiceBorders_P1/Wall"]
mesh = SubResource("BoxMesh_hlaw2")

[node name="Wall2" type="StaticBody3D" parent="DiceArea_P1/DiceBorders_P1"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, -1.52588e-05, 2.979, -3.83307)
input_ray_pickable = false
physics_material_override = ExtResource("5_hdthg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P1/DiceBorders_P1/Wall2"]
shape = SubResource("BoxShape3D_tsocn")

[node name="Debug_MeshInstance3D" type="MeshInstance3D" parent="DiceArea_P1/DiceBorders_P1/Wall2"]
mesh = SubResource("BoxMesh_hlaw2")

[node name="Wall3" type="StaticBody3D" parent="DiceArea_P1/DiceBorders_P1"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5, 2.979, 0)
input_ray_pickable = false
physics_material_override = ExtResource("5_hdthg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P1/DiceBorders_P1/Wall3"]
transform = Transform3D(1, 0, 5.96046e-08, 0, 1, 0, -5.96046e-08, 0, 1, -1.40469, 0, -7.62939e-06)
shape = SubResource("BoxShape3D_feblq")

[node name="Debug_MeshInstance3D" type="MeshInstance3D" parent="DiceArea_P1/DiceBorders_P1/Wall3"]
transform = Transform3D(1, 0, 5.96046e-08, 0, 1, 0, -5.96046e-08, 0, 1, -1.40469, 0, -7.62939e-06)
mesh = SubResource("BoxMesh_xk8l6")

[node name="Wall4" type="StaticBody3D" parent="DiceArea_P1/DiceBorders_P1"]
transform = Transform3D(-2.98023e-08, 0, -1, 0, 1, 0, 1, 0, -2.98023e-08, 5, 2.979, 3.05176e-05)
input_ray_pickable = false
physics_material_override = ExtResource("5_hdthg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P1/DiceBorders_P1/Wall4"]
transform = Transform3D(1, 0, -5.96046e-08, 0, 1, 0, 5.96046e-08, 0, 1, -1.4899, 0, -7.62939e-06)
shape = SubResource("BoxShape3D_41ig0")

[node name="Debug_MeshInstance3D" type="MeshInstance3D" parent="DiceArea_P1/DiceBorders_P1/Wall4"]
transform = Transform3D(1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, -1.4899, 0, -7.62939e-06)
mesh = SubResource("BoxMesh_871mg")

[node name="ClickHitbox_P1" type="Area3D" parent="DiceArea_P1"]
transform = Transform3D(1.499, 0, 0, 0, 1.499, 0, 0, 0, 1.499, 7.62939e-06, 0, -1.33679)
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P1/ClickHitbox_P1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.52588e-05, -0.0682981, 0.612061)
shape = SubResource("BoxShape3D_8xt6p")

[node name="Label3D_Outcome_P1" type="Label3D" parent="DiceArea_P1"]
transform = Transform3D(1, -5.96046e-08, 1.77636e-15, 0, -4.37114e-08, 1, -5.96046e-08, -1, -4.37114e-08, 10.1008, -1.41556, -6.31183)
pixel_size = 0.05
modulate = Color(1, 1, 1, 0)
outline_modulate = Color(1, 1, 1, 0)
text = "2
"
font_size = 100
script = ExtResource("6_wittj")
_color_moves = Color(1, 1, 1, 1)
_color_no_moves = Color(1, 0.301961, 0.235294, 1)
_effect_duration = 1.4
_effect_curve = SubResource("Curve_wrwgg")

[node name="Floor_Collider_P1" type="StaticBody3D" parent="DiceArea_P1" groups=["Ground"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P1/Floor_Collider_P1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.61948, -0.459701)
shape = SubResource("BoxShape3D_iof8i")

[node name="DiceArea_P2" type="Node3D" parent="."]
transform = Transform3D(0.026, 0, 1.54972e-09, 0, 0.026, 0, -1.54972e-09, 0, 0.026, 0, 0.1, -0.131)

[node name="ThrowingSpots_P2" type="Node3D" parent="DiceArea_P2"]
transform = Transform3D(-5.96046e-08, 0, 1, 0, 1, 0, -1, 0, -5.96046e-08, -3.96738, 1.5, 0.194702)
visible = false

[node name="ThrowSpot1" parent="DiceArea_P2/ThrowingSpots_P2" instance=ExtResource("3_p3m62")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.999985, -1.79269, 0)
throwing_velocity_multiplier = 1.35

[node name="ThrowSpot2" parent="DiceArea_P2/ThrowingSpots_P2" instance=ExtResource("3_p3m62")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.00008, -1.79269, -4.57764e-05)
throwing_velocity_multiplier = 0.9

[node name="ThrowSpot3" parent="DiceArea_P2/ThrowingSpots_P2" instance=ExtResource("3_p3m62")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000167847, -1.79269, 1.52588e-05)
throwing_velocity_multiplier = 0.9

[node name="ThrowSpot4" parent="DiceArea_P2/ThrowingSpots_P2" instance=ExtResource("3_p3m62")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000137329, 1.73375, 7.62939e-06)
throwing_velocity_multiplier = 0.5

[node name="ThrowSpot5" parent="DiceArea_P2/ThrowingSpots_P2" instance=ExtResource("3_p3m62")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.00003, 1.73375, -7.62939e-06)
throwing_velocity_multiplier = 0.5

[node name="SpawnSpots_P2" type="Node3D" parent="DiceArea_P2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.253223, -3, 0.158998)
visible = false

[node name="SpawnSpot" parent="DiceArea_P2/SpawnSpots_P2" instance=ExtResource("4_e34ex")]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, -1.00814, 0, -0.756744)

[node name="SpawnSpot2" parent="DiceArea_P2/SpawnSpots_P2" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.713312, 0, 0.700847, 0, 1, 0, -0.700847, 0, 0.713312, -1.27617, 0, 1.30646)

[node name="SpawnSpot3" parent="DiceArea_P2/SpawnSpots_P2" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.94813, 0, 0.317884, 0, 1, 0, -0.317884, 0, 0.94813, 1.19582, 0, 1.01186)

[node name="SpawnSpot4" parent="DiceArea_P2/SpawnSpots_P2" instance=ExtResource("4_e34ex")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.19581, 0, -1.24012)

[node name="SpawnSpot7" parent="DiceArea_P2/SpawnSpots_P2" instance=ExtResource("4_e34ex")]
transform = Transform3D(1, 0, 5.96046e-08, 0, 1, 0, -5.96046e-08, 0, 1, 4.00871, 4.76837e-07, 0.912888)

[node name="SpawnSpot8" parent="DiceArea_P2/SpawnSpots_P2" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.895207, 0, 0.445651, 0, 1, 0, -0.445651, 0, 0.895207, 3.00977, 4.76837e-07, -0.880585)

[node name="SpawnSpot5" parent="DiceArea_P2/SpawnSpots_P2" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.497761, 0, 0.867314, 0, 1, 0, -0.867314, 0, 0.497761, -3.69106, 0, -1.1012)

[node name="SpawnSpot6" parent="DiceArea_P2/SpawnSpots_P2" instance=ExtResource("4_e34ex")]
transform = Transform3D(0.497761, 0, 0.867314, 0, 1, 0, -0.867314, 0, 0.497761, -2.835, 0, 0.744186)

[node name="DiceBorders_P2" type="Node3D" parent="DiceArea_P2"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, 0, 0, 0)
visible = false

[node name="Wall" type="StaticBody3D" parent="DiceArea_P2/DiceBorders_P2"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, -1.52588e-05, 2.979, 2.40988)
input_ray_pickable = false
physics_material_override = ExtResource("5_hdthg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P2/DiceBorders_P2/Wall"]
shape = SubResource("BoxShape3D_rs5kh")

[node name="Debug_MeshInstance3D" type="MeshInstance3D" parent="DiceArea_P2/DiceBorders_P2/Wall"]
mesh = SubResource("BoxMesh_hlaw2")

[node name="Wall2" type="StaticBody3D" parent="DiceArea_P2/DiceBorders_P2"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, 0, 2.979, -2.88242)
input_ray_pickable = false
physics_material_override = ExtResource("5_hdthg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P2/DiceBorders_P2/Wall2"]
shape = SubResource("BoxShape3D_tsocn")

[node name="Debug_MeshInstance3D" type="MeshInstance3D" parent="DiceArea_P2/DiceBorders_P2/Wall2"]
mesh = SubResource("BoxMesh_hlaw2")

[node name="Wall3" type="StaticBody3D" parent="DiceArea_P2/DiceBorders_P2"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5, 2.979, 0)
input_ray_pickable = false
physics_material_override = ExtResource("5_hdthg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P2/DiceBorders_P2/Wall3"]
shape = SubResource("BoxShape3D_feblq")

[node name="Debug_MeshInstance3D" type="MeshInstance3D" parent="DiceArea_P2/DiceBorders_P2/Wall3"]
transform = Transform3D(0.68418, 0, 2.98023e-08, 0, 1, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("BoxMesh_hlaw2")

[node name="Wall4" type="StaticBody3D" parent="DiceArea_P2/DiceBorders_P2"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 5, 2.979, 0)
input_ray_pickable = false
physics_material_override = ExtResource("5_hdthg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P2/DiceBorders_P2/Wall4"]
shape = SubResource("BoxShape3D_41ig0")

[node name="Debug_MeshInstance3D" type="MeshInstance3D" parent="DiceArea_P2/DiceBorders_P2/Wall4"]
transform = Transform3D(0.688813, 0, 2.98023e-08, 0, 1, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("BoxMesh_hlaw2")

[node name="ClickHitbox_P2" type="Area3D" parent="DiceArea_P2"]
transform = Transform3D(1.499, 0, 0, 0, 1.499, 0, 0, 0, 1.499, 0, 0.515, 0)
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P2/ClickHitbox_P2"]
shape = SubResource("BoxShape3D_3iugv")

[node name="Label3D_Outcome_P2" type="Label3D" parent="DiceArea_P2"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 6.51159, -1.41556, 0.257188)
pixel_size = 0.05
modulate = Color(1, 1, 1, 0)
outline_modulate = Color(1, 1, 1, 0)
text = "2
"
font_size = 100
script = ExtResource("6_wittj")
_color_moves = Color(1, 1, 1, 1)
_color_no_moves = Color(1, 0.301961, 0.235294, 1)
_effect_duration = 1.4
_effect_curve = SubResource("Curve_wrwgg")

[node name="Floor_Collider_P2" type="StaticBody3D" parent="DiceArea_P2" groups=["Ground"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiceArea_P2/Floor_Collider_P2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.61948, -0.459701)
shape = SubResource("BoxShape3D_iof8i")

[node name="RollSFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_hlajg")

[node name="ShakeSFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_wfoj5")
